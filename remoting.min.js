// ==========================================
// Copyright 2013 Scott Will
// Licensed under The MIT License
// http://opensource.org/licenses/MIT
// ==========================================
var Remoting={promise:function(e){if(typeof jQuery==="undefined"||!jQuery.Deferred){throw new Error("jQuery 1.5+ is required to use this function.")}if(typeof e!=="object"){throw new Error("Invalid Options.")}else if(typeof e.remoteAction!=="function"){throw new Error("Invalid @RemoteAction.")}else if(e.args&&Object.prototype.toString.call(e.args)!=="[object Array]"){throw new Error("Invalid Arguments Array.")}var t=new jQuery.Deferred;if(typeof e.done==="function"){t.done(e.done)}if(typeof e.fail==="function"){t.fail(e.fail)}var n=function(n,r){if(r.status){t.resolve(n)}else{if(!e.suppressLoginRedirect&&r.message.indexOf("Logged in?",r.message.length-"Logged in?".length)!==-1){window.location.href="/?startURL="+encodeURIComponent(window.location.href.substring(window.location.origin.length));return}t.reject(r.message)}};e.args.push(n);e.args.push({escape:e.escape!==false});e.remoteAction.apply(e.scope,e.args||[]);return t}}
